(function(g){var p=[];var t={init:function(u){return this.each(function(){var e=this;var i=g(e).data("cbselect");if(i){return}i={};i.type=g(e).prop("multiple")?"multiple":"single";i.options=typeof u!="undefined"?u:{};i.defaults=g.fn.cbselect.defaults;i.settings=g.extend(true,{},i.defaults,i.options);i.element=g(e);if(i.settings.useData){g.each(i.defaults,function(e,t){if(e!="init"&&e!="useData"){var s=i.element.data("cbselect"+e.charAt(0).toUpperCase()+e.slice(1));if(typeof s!="undefined"){i.settings[e]=s}else{s=i.element.data("cbselect"+e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());if(typeof s!="undefined"){i.settings[e]=s}}}})}i.element.triggerHandler("cbselect.init.before",[i]);if(!i.settings.init){return}if(i.settings.tags){var t=i.settings.separator;if(!t){t=[","]}i.settings.tokenSeparators=t}if(i.type=="multiple"||i.settings.tags){if(i.settings.width=="calculate"){i.settings.width="auto"}if(i.settings.height=="calculate"){i.settings.height="auto"}}var s=null;var n=null;if(i.settings.width=="calculate"||i.settings.height=="calculate"){s=i.element.outerWidth()+50;n=i.element.outerHeight();if(i.element.is(":hidden")){var l=i.element.css("width");var a=i.element.css("height");var c=i.element.clone(false).attr({id:"",class:""}).css({position:"absolute",display:"block",visibility:"hidden",width:"auto",height:"auto",minWidth:l&&l!="0px"?l:"auto",minHeight:a&&a!="0px"?a:"auto",padding:i.element.css("padding"),border:i.element.css("border"),margin:i.element.css("margin"),fontFamily:i.element.css("font-family"),fontSize:i.element.css("font-size"),fontWeight:i.element.css("font-weight"),lineHeight:i.element.css("line-height"),boxSizing:i.element.css("box-sizing"),wordSpacing:i.element.css("word-spacing")}).appendTo("body");s=c.outerWidth()+50;n=c.outerHeight();c.remove()}if(i.settings.width=="calculate"){i.settings.width=s}if(i.settings.height=="calculate"){i.settings.height=n}}if(i.settings.width=="element"){s=i.element.outerWidth();if(!s||s=="0px"){s="auto"}}else if(i.settings.width=="copy"||i.settings.width=="resolve"){s=i.element.css("width");if(!s||s=="0px"){s="auto"}}else if(i.settings.width=="off"){s=null}else if(!s){s=i.settings.width}if(i.settings.height=="element"){n=i.element.outerHeight();if(!n||n=="0px"){n="auto"}}else if(i.settings.height=="copy"||i.settings.height=="resolve"){n=i.element.css("height");if(!n||n=="0px"){n="auto"}}else if(i.settings.height=="off"){n=null}else if(!n){n=i.settings.height}var o=null;if(i.type=="multiple"){if(s=="auto"&&i.settings.placeholder){var r=g("<span>"+i.settings.placeholder+"</span>").css({position:"absolute",display:"block",visibility:"hidden",padding:i.element.css("padding"),border:i.element.css("border"),margin:i.element.css("margin"),fontFamily:i.element.css("font-family"),fontSize:i.element.css("font-size"),fontWeight:i.element.css("font-weight"),lineHeight:i.element.css("line-height"),boxSizing:i.element.css("box-sizing"),wordSpacing:i.element.css("word-spacing")}).appendTo("body");o=r.outerWidth()+5;r.remove()}}else if(i.settings.placeholder){i.settings.allowClear=true}var d=i.element.is('.cbTooltip,[data-hascbtooltip="true"]');if(d){i.element.attr("data-cbtooltip-open-target","~ .select2-container:first");i.element.attr("data-cbtooltip-close-target","~ .select2-container:first");i.element.attr("data-cbtooltip-position-target","~ .select2-container:first");i.element.data("cbtooltip-open-target","~ .select2-container:first");i.element.data("cbtooltip-close-target","~ .select2-container:first");i.element.data("cbtooltip-position-target","~ .select2-container:first")}var f=[];g.each(i.element.attr("class").split(/\s+/),function(e,t){if(t!="cbTooltip"&&t!="cbSelect"){f.push(t)}});var m=g.extend(true,{},i.settings);delete m["separator"];delete m["containerCssClass"];delete m["dropdownCssClass"];delete m["selectionCssClass"];if(i.settings.theme=="bootstrap"&&(i.type=="multiple"||i.settings.tags)&&!("templateSelection"in m)){m["templateSelection"]=function(e,t){t.addClass("badge badge-primary");return g.fn.select2.defaults.defaults.templateSelection(e,t)}}i.element.select2(m);i.select2=i.element.data("select2");i.container=i.select2.$container;i.dropdown=i.select2.$dropdown;i.selection=i.select2.$selection;if(o){i.selection.css("min-width",o)}g.each(f,function(e,t){i.container.addClass(t)});i.container.attr("tabindex",0);if(i.settings.theme=="bootstrap"){if(!i.settings.tags&&i.container.hasClass("form-control")){i.container.addClass("custom-select");if(i.container.hasClass("form-control-sm")){i.container.addClass("custom-select-sm")}else if(i.container.hasClass("form-control-lg")){i.container.addClass("custom-select-lg")}}i.dropdown.find(".select2-dropdown").addClass("bg-white border");i.dropdown.find(".select2-search__field").addClass("form-control");i.container.find(".select2-search__field").addClass("form-control");if(i.container.hasClass("form-control-sm")){i.dropdown.find(".select2-dropdown").addClass("text-small");i.dropdown.find(".select2-search__field").addClass("form-control-sm");i.container.find(".select2-search__field").addClass("form-control-sm")}else if(i.container.hasClass("form-control-lg")){i.dropdown.find(".select2-dropdown").addClass("text-large");i.dropdown.find(".select2-search__field").addClass("form-control-lg");i.container.find(".select2-search__field").addClass("form-control-lg")}}i.dropdown.addClass("cb_template");if(i.type=="multiple"){i.dropdown.addClass("select2-container--multiple");i.container.addClass("select2-container--multiple")}else{i.dropdown.addClass("select2-container--single");i.container.addClass("select2-container--single")}if(i.settings.tags){i.dropdown.addClass("select2-container--tags");i.container.addClass("select2-container--tags")}h(i);i.container.on("keyup.cbselect",".select2-search__field",function(){h(i)}).on("click.cbselect",function(e){if(e.target!==this){return}i.element.cbselect("toggle")});i.element.on("select2:open.cbselect",function(){h(i);i.element.triggerHandler("cbselect.open",[i])}).on("select2:close.cbselect",function(){h(i);i.element.triggerHandler("cbselect.close",[i])}).on("select2:select.cbselect",function(e){h(i);if(i.settings.placeholder){i.element.cbselect("unset",i.select2.selection.placeholder.id)}i.element.triggerHandler("cbselect.selecting",[i,e.params.data.id,e.params.data.element])}).on("select2:unselect.cbselect",function(e){h(i);if(i.settings.placeholder&&i.element.cbselect("get")===null){i.element.cbselect("set",i.select2.selection.placeholder.id)}i.element.triggerHandler("cbselect.removing",[i,e.params.data.id,e.params.data.element])});i.container.attr("id","cbselect_"+i.element.attr("id"));if(n&&n!="0px"){i.container.css("height",n)}if(i.settings.containerCssClass){i.container.addClass(i.settings.containerCssClass)}if(i.settings.dropdownCssClass){i.dropdown.addClass(i.settings.dropdownCssClass)}if(i.settings.selectionCssClass){i.selection.addClass(i.settings.selectionCssClass)}i.element.on("change.cbselect",function(){if(typeof cbParamChange!="undefined"){cbParamChange.call(this)}});i.element.on("remove.cbselect destroy.cbselect",function(){i.element.cbselect("destroy")});i.element.on("rebind.cbselect",function(){i.element.cbselect("rebind")});i.element.on("modified.cbselect",function(e,t,s,n){if(t!=s){i.element.cbselect("rebind")}});i.element.on("cloning.cbselect",function(){g(this).cbselect("destroy");g(this).on("rebind.cbselect",function(){g(this).off("rebind.cbselect");i.element.cbselect(i.options)});g(this).on("cloned.cbselect",function(){g(this).off("cloned.cbselect");g(this).cbselect(i.options)});return true});i.element.triggerHandler("cbselect.init.after",[i]);i.element.data("cbselect",i);p.push(i)})},toggle:function(){var e=g(this).data("cbselect");if(!e){return this}if(e.container.hasClass("select2-container--open")){e.element.select2("close")}else{e.element.select2("open")}return this},open:function(){var e=g(this).data("cbselect");if(!e){return this}e.element.select2("open");return this},close:function(e){var t=g(this).data("cbselect");if(!t){return this}t.element.select2("close");return this},get:function(){var e=g(this).data("cbselect");if(!e){return null}return e.element.val()},set:function(e){var t=g(this).data("cbselect");if(!t){return null}t.element.val(e).trigger("change");return t.element.cbselect("get")},unset:function(e){var t=g(this).data("cbselect");if(!t){return null}if(!g.isArray(e)){e=[e]}var s=t.element.cbselect("get");var n=s;var i=false;if(g.isArray(s)){g.each(e,function(e,t){if(n.indexOf(t)>-1){n.splice(n.indexOf(t),1);i=true}})}else{g.each(e,function(e,t){if(t===s){n="";i=true;return false}})}if(i){return t.element.cbselect("set",n)}else{return s}},enable:function(){var e=g(this).data("cbselect");if(!e){return this}e.element.prop("disabled",false);return this},disable:function(){var e=g(this).data("cbselect");if(!e){return this}e.element.prop("disabled",true);return this},container:function(){var e=g(this).data("cbselect");if(!e){return this}return e.container},dropdown:function(){var e=g(this).data("cbselect");if(!e){return this}return e.dropdown},rebind:function(){var e=g(this).data("cbselect");if(!e){return this}e.element.cbselect("destroy");e.element.cbselect(e.options);return this},destroy:function(){var s=g(this).data("cbselect");if(!s){return this}s.element.off(".cbselect");s.element.removeData("cbselect");if(s.element.is('.cbTooltip,[data-hascbtooltip="true"]')){s.element.removeAttr("data-cbtooltip-open-target");s.element.removeAttr("data-cbtooltip-close-target");s.element.removeAttr("data-cbtooltip-position-target");s.element.removeData("cbtooltip-open-target");s.element.removeData("cbtooltip-close-target");s.element.removeData("cbtooltip-position-target")}s.element.select2("destroy");g.each(p,function(e,t){if(t.element==s.element){p.splice(e,1);return false}return true});s.element.triggerHandler("cbselect.destroyed",[s]);return this},instances:function(){return p}};function h(e){if(!e.element.children().length){e.dropdown.addClass("select2-container--empty");e.container.addClass("select2-container--empty")}else{e.dropdown.removeClass("select2-container--empty");e.container.removeClass("select2-container--empty")}}g.fn.cbselect=function(e){if(t[e]){return t[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return t.init.apply(this,arguments)}return this};g.fn.cbselect.defaults={init:true,useData:true,tags:false,separator:null,placeholder:null,closeOnSelect:true,selectOnClose:false,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,dropdownCssClass:null,containerCssClass:null,selectionCssClass:null,dropdownAutoWidth:true,theme:"bootstrap",width:"calculate",height:"off"}})(jQuery);